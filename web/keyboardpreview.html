<!DOCTYPE html>
<html>
<head>
<style>
table, td {
    border: 1px solid black;
}
</style>
</head>
<body>

<p>Click the button to add a new row at the first position of the table and then add cells and content.</p>
<input id="sss" type="text" name="firstname">
<br>
<table id="myTable">
  <tr>
    <td>Row1 cell1</td>
    <td>Row1 cell2</td>
  </tr>
  <tr>
    <td>Row2 cell1</td>
    <td>Row2 cell2</td>
  </tr>
  <tr>
    <td>Row3 cell1</td>
    <td>Row3 cell2</td>
  </tr>
</table>
<br>

<button id="abc">Try it</button>

<script>
window.onload = function (e) {
	// liff.init(
	// 	data => {
	// 	  // Now you can call LIFF API
	// 	  getQueryVariable("pos",GetBikeInfo);
	// 	},
	// 	err => {
	// 	  // LIFF initialization failed
	// 	}
	//   );
	// alert('ssss')
	GetBusAllNum()
}

function GetBusAllNum(){
	$.ajax({
		type: 'GET',
		url: 'http://127.0.0.1:5000/bus_all_num',
		dataType: 'json',
		success: function(dict) {
            console.log(dict)
			document.getElementById("abc").addEventListener("click", function(){
                itclear(dict)
            });
		}
	});
}


function itclear(dict) {
    document.getElementById('sss').value='2'
    console.log('ss');
    $('#myTable').empty()
    console.log('dd')
    var count = 0;
    var table = document.getElementById("myTable");
    for (var i=dict.length-1; i>=0; i--){
        num_zero=dict[i].RouteName.Zh_tw.split("")[0]
        console.log(num_zero)
        console.log(i)
        if (num_zero=='5'){   
            var row = table.insertRow(count);
            // var cell1 = row.insertCell(count);
            // var cell2 = row.insertCell(1);
            // cell1.innerHTML = dict[i].RouteName.Zh_tw;
            row.innerHTML = dict[i].RouteName.Zh_tw;
            // cell2.innerHTML = "NEW CELL2";
            count = count + 1;
            }
        }
}
</script>
<script src="assets/js/jquery.min.js"></script>
</body>
</html>